<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nền tảng Hỗ trợ Quyết toán Thuế</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .dark body { background-color: #111827; }
        .sidebar-icon { transition: all 0.2s ease-in-out; }
        .sidebar-icon:hover { background-color: #4f46e5; color: white; }
        .active-tab { background-color: #4338ca; color: white; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        .dark ::webkit-scrollbar-track { background: #2d3748; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        .loader {
            border: 4px solid #f3f3f3; border-top: 4px solid #4f46e5;
            border-radius: 50%; width: 24px; height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .modal-backdrop {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px);
            z-index: 40;
        }
        .modal {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%); z-index: 50;
        }
        .custom-file-input::-webkit-file-upload-button { visibility: hidden; }
        .custom-file-input::before {
            content: 'Chọn file hoặc thư mục'; display: inline-block;
            background: #eef2ff; color: #4338ca; border-radius: 0.375rem; 
            padding: 0.5rem 1rem; outline: none; white-space: nowrap; 
            cursor: pointer; font-weight: 500; font-size: 0.875rem;
        }
        .dark .custom-file-input::before { background: #312e81; color: #a5b4fc; }
    </style>
</head>
<body class="dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <!-- Login Screen -->
    <div id="login-screen" class="flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900">
        <div class="w-full max-w-md bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl">
            <h1 class="text-3xl font-bold text-center text-indigo-600 dark:text-indigo-500">Tax AI Platform</h1>
            <p class="text-center text-gray-500 mt-2">Đăng nhập để tiếp tục</p>
            <form id="login-form" class="mt-8 space-y-6">
                <div>
                    <label for="email" class="text-sm font-medium">Email</label>
                    <input id="email" type="email" required class="mt-1 w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600" value="user1@company.com">
                </div>
                <div>
                    <label for="password" class="text-sm font-medium">Mật khẩu</label>
                    <input id="password" type="password" required class="mt-1 w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600" value="user1">
                </div>
                <div id="login-error" class="text-red-500 text-sm text-center"></div>
                <button type="submit" class="w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700">Đăng nhập</button>
            </form>
            <div class="mt-4 text-xs text-gray-400 text-center">
                <p>Admin: admin@tax.ai / admin</p>
                <p>User 1: user1@company.com / user1</p>
                <p>User 2: user2@company.com / user2</p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app-container" class="hidden flex h-screen bg-gray-100 dark:bg-gray-900">
        <nav class="w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col py-6">
            <div class="px-6 mb-8">
                <h1 class="text-2xl font-bold text-indigo-600 dark:text-indigo-500">Tax AI Platform</h1>
                <div class="mt-2">
                    <p id="user-name" class="font-semibold"></p>
                    <p id="user-role" class="text-xs text-gray-500"></p>
                </div>
            </div>
            <p class="px-6 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Quy trình làm việc</p>
            <ul class="flex flex-col space-y-2 px-4 flex-grow">
                <li><button onclick="switchTab('dashboard')" class="sidebar-icon w-full flex items-center active-tab p-3 rounded-xl text-left"><i data-lucide="layout-dashboard" class="mr-3 h-5 w-5"></i><span>Bảng điều khiển</span></button></li>
                <li><button onclick="switchTab('data-entry')" class="sidebar-icon w-full flex items-center p-3 rounded-xl text-left"><i data-lucide="file-plus-2" class="mr-3 h-5 w-5"></i><span>1. Nhập liệu & Số hoá</span></button></li>
                <li><button onclick="switchTab('reconciliation')" class="sidebar-icon w-full flex items-center p-3 rounded-xl text-left"><i data-lucide="shield-check" class="mr-3 h-5 w-5"></i><span>2. Đối chiếu & Rà soát</span></button></li>
                <li><button onclick="switchTab('tools')" class="sidebar-icon w-full flex items-center p-3 rounded-xl text-left"><i data-lucide="box" class="mr-3 h-5 w-5"></i><span>3. Tiện ích & Báo cáo</span></button></li>
                <li><button onclick="switchTab('legal')" class="sidebar-icon w-full flex items-center p-3 rounded-xl text-left"><i data-lucide="scale" class="mr-3 h-5 w-5"></i><span>4. Hỏi đáp Pháp luật</span></button></li>
            </ul>
            <div class="px-4">
                 <button id="logout-button" class="sidebar-icon w-full flex items-center p-3 rounded-xl text-left text-red-500 hover:bg-red-500 hover:text-white"><i data-lucide="log-out" class="mr-3 h-5 w-5"></i><span>Đăng xuất</span></button>
            </div>
        </nav>

        <main class="flex-1 p-6 sm:p-8 lg:p-10 overflow-y-auto">
            <div id="dashboard" class="tab-content">
                <h1 class="text-3xl font-bold">Bảng điều khiển</h1>
                <p class="mt-2 text-gray-600 dark:text-gray-400">Tổng quan hoạt động và các mục cần chú ý.</p>
                
                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg"><p class="text-sm text-gray-500">Tài liệu đã số hoá</p><p id="db-doc-count" class="text-3xl font-bold mt-1">0</p></div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg"><p class="text-sm text-gray-500">Lần đối chiếu</p><p id="db-recon-count" class="text-3xl font-bold mt-1">0</p></div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg"><p class="text-sm text-gray-500">Báo cáo đã tạo</p><p id="db-report-count" class="text-3xl font-bold mt-1">0</p></div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg"><p class="text-sm text-gray-500">Cảnh báo rủi ro</p><p id="db-alert-count" class="text-3xl font-bold mt-1 text-red-500">0</p></div>
                </div>

                <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-semibold mb-4">Phân tích hoạt động</h2>
                        <canvas id="activityChart"></canvas>
                    </div>
                    <div class="lg:col-span-1 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                        <h2 class="text-xl font-semibold mb-4">Các mục cần chú ý</h2>
                        <ul id="attention-list" class="space-y-3"></ul>
                    </div>
                </div>
            </div>
            
            <!-- Other Tabs (HTML unchanged, content will be rendered by JS) -->
            <div id="data-entry" class="tab-content hidden">
                 <h1 class="text-3xl font-bold">1. Nhập liệu & Số hoá Chứng từ</h1>
                 <p class="mt-2 text-gray-600 dark:text-gray-400">Sử dụng AI để tự động bóc tách thông tin từ hoá đơn, hợp đồng.</p>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold">Tải lên chứng từ cần xử lý</h2>
                    <button class="mt-4 w-full text-center border-2 border-dashed dark:border-gray-600 rounded-xl p-12 hover:bg-gray-50 dark:hover:bg-gray-700/50">
                        <i data-lucide="scan-line" class="w-16 h-16 text-indigo-500 mx-auto"></i>
                        <p class="mt-4 font-semibold text-lg">Quét và bóc tách dữ liệu với OCR</p>
                    </button>
                 </div>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold mb-4">Danh sách tài liệu đã xử lý</h2>
                    <div id="data-entry-table" class="overflow-x-auto"></div>
                 </div>
            </div>

            <div id="reconciliation" class="tab-content hidden">
                 <h1 class="text-3xl font-bold">2. Đối chiếu & Rà soát</h1>
                 <p class="mt-2 text-gray-600 dark:text-gray-400">Tải lên các bảng tính, AI sẽ tự động so khớp theo yêu cầu.</p>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold">Tạo phiên đối chiếu mới</h2>
                    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                        <div><label class="font-medium">Tài liệu cần đối chiếu</label><input type="file" multiple class="mt-2 custom-file-input w-full"></div>
                        <div><label class="font-medium">Yêu cầu đối chiếu cụ thể</label><textarea class="mt-2 w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 text-sm" rows="3" placeholder="Ví dụ: Đối chiếu chéo Bảng kê mua vào và Sao kê ngân hàng..."></textarea></div>
                    </div>
                    <button class="mt-4 w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold">Bắt đầu Đối chiếu</button>
                 </div>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold mb-4">Lịch sử các lần đối chiếu</h2>
                    <div id="reconciliation-log"></div>
                 </div>
            </div>

            <div id="tools" class="tab-content hidden">
                 <h1 class="text-3xl font-bold">3. Tiện ích & Báo cáo</h1>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold mb-4">Công cụ tính toán nhanh</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <button onclick="openModal('gross-net-modal')" class="text-left p-4 border dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"><h3 class="font-semibold">Quy đổi lương Gross-Net</h3></button>
                        <button onclick="openModal('late-payment-modal')" class="text-left p-4 border dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"><h3 class="font-semibold">Tính lãi chậm nộp</h3></button>
                        <button onclick="openModal('depreciation-modal')" class="text-left p-4 border dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"><h3 class="font-semibold">Trích khấu hao TSCĐ</h3></button>
                    </div>
                 </div>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold">Tạo tài liệu / báo cáo mới với AI</h2>
                     <label class="mt-4 block font-medium">Tài liệu tham khảo (không bắt buộc)</label>
                    <input type="file" class="mt-2 custom-file-input w-full">
                    <label class="mt-4 block font-medium">Yêu cầu AI tạo tài liệu</label>
                    <textarea class="mt-2 w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" rows="3" placeholder="Ví dụ: Dựa trên Bảng kê mua vào, tạo file Excel phân tích chi phí theo từng nhà cung cấp."></textarea>
                    <button class="mt-4 w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold">Tạo tài liệu</button>
                 </div>
                 <div class="mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">
                    <h2 class="text-xl font-semibold mb-4">Lịch sử hoạt động</h2>
                    <div id="tools-log"></div>
                 </div>
            </div>
            
            <div id="legal" class="tab-content hidden">
                <h1 class="text-3xl font-bold">4. Hỏi đáp với AI Agent</h1>
                <div class="mt-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg h-[70vh] flex flex-col p-6">
                    <div id="chat-window" class="flex-grow overflow-y-auto pr-2 space-y-4">
                       <div class="flex items-start gap-3"><div class="w-10 h-10 rounded-full bg-indigo-500 flex-shrink-0 flex items-center justify-center"><i data-lucide="bot" class="text-white"></i></div><div class="p-4 rounded-lg bg-gray-100 dark:bg-gray-700 rounded-tl-none"><p>Tôi có thể giúp gì về pháp luật thuế cho bạn?</p></div></div>
                    </div>
                    <form id="chat-form" class="flex items-center gap-4 mt-4">
                        <input type="text" id="chat-input" placeholder="Hỏi về chi phí được trừ khi tính thuế TNDN..." class="w-full p-4 border rounded-xl dark:bg-gray-700 dark:border-gray-600" autocomplete="off">
                        <button type="submit" class="bg-indigo-600 text-white p-4 rounded-xl hover:bg-indigo-700"><i data-lucide="send"></i></button>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-container">
        <!-- Modals for calculators... -->
    </div>
    <script>
        // --- MOCK DATABASE ---
        const db = {
            users: [
                { id: 'admin01', email: 'admin@tax.ai', password: 'admin', role: 'Admin', name: 'Administrator' },
                { id: 'user01', email: 'user1@company.com', password: 'user1', role: 'User', name: 'Nguyễn Văn A' },
                { id: 'user02', email: 'user2@company.com', password: 'user2', role: 'User', name: 'Trần Thị B' }
            ],
            documents: [
                { id: 'd01', userId: 'user01', name: 'HD_00123_Viettel.pdf', type: 'Hoá đơn GTGT', date: '2025-09-10T09:15:00Z', status: 'Thành công' },
                { id: 'd02', userId: 'user01', name: 'Hop_dong_thue_van_phong.docx', type: 'Hợp đồng', date: '2025-09-10T09:18:00Z', status: 'Thành công' },
                { id: 'd03', userId: 'user02', name: 'Invoice_FPT_Telecom.pdf', type: 'Hoá đơn GTGT', date: '2025-09-11T09:00:00Z', status: 'Thành công' },
                 { id: 'd04', userId: 'user01', name: 'Sao_ke_VCB_T8.xlsx', type: 'Sao kê NH', date: '2025-09-01T11:00:00Z', status: 'Thành công' },
            ],
            reconciliations: [
                { id: 'r01', userId: 'user01', name: 'Đối chiếu Sao kê & Bảng kê T8', date: '2025-09-10T14:30:00Z', request: 'Đối chiếu các giao dịch trên 20 triệu...', result: 'Phát hiện 2 giao dịch không khớp.', status: 'Cảnh báo' },
                { id: 'r02', userId: 'user02', name: 'Rà soát chi phí tiếp khách Q3', date: '2025-09-11T11:00:00Z', request: 'Tìm chi phí tiếp khách vượt định mức.', result: 'Cảnh báo: Chi phí vượt 15%.', status: 'Cảnh báo' }
            ],
            reports: [
                { id: 'rep01', userId: 'user01', name: 'Phan_tich_chi_phi_NCC.xlsx', date: '2025-09-11T15:00:00Z' }
            ],
            attentionItems: [
                { userId: 'user01', text: 'Hợp đồng thuê văn phòng sắp hết hạn (còn 20 ngày).', level: 'warning' },
                { userId: 'user01', text: 'Đối chiếu T8 phát hiện 2 giao dịch không khớp.', level: 'danger' },
                { userId: 'user02', text: 'Chi phí tiếp khách Quý 3 vượt định mức 15%.', level: 'danger' },
            ]
        };

        // --- APP STATE ---
        let currentUser = null;
        let activityChart = null;

        // --- AUTHENTICATION ---
        const loginForm = document.getElementById('login-form');
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const user = db.users.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('app-container').classList.remove('hidden');
                initializeApp();
            } else {
                document.getElementById('login-error').textContent = 'Email hoặc mật khẩu không chính xác.';
            }
        });
        
        document.getElementById('logout-button').addEventListener('click', () => {
             currentUser = null;
             document.getElementById('login-screen').classList.remove('hidden');
             document.getElementById('app-container').classList.add('hidden');
             document.getElementById('login-form').reset();
             document.getElementById('login-error').textContent = '';
             if (activityChart) {
                activityChart.destroy();
             }
        });

        // --- CORE APP LOGIC ---
        function initializeApp() {
            document.getElementById('user-name').textContent = currentUser.name;
            document.getElementById('user-role').textContent = currentUser.role;
            switchTab('dashboard');
            lucide.createIcons();
        }
        
        const switchTab = (tabId) => {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.getElementById(tabId).classList.remove('hidden');
            document.querySelectorAll('.sidebar-icon').forEach(icon => icon.classList.remove('active-tab'));
            document.querySelector(`button[onclick="switchTab('${tabId}')"]`).classList.add('active-tab');
            
            // Render content for the selected tab
            switch(tabId) {
                case 'dashboard': renderDashboard(); break;
                case 'data-entry': renderDataEntry(); break;
                case 'reconciliation': renderReconciliation(); break;
                case 'tools': renderTools(); break;
            }
            lucide.createIcons();
        };

        // --- RENDER FUNCTIONS ---
        function renderDashboard() {
            let docs, recons, reports, alerts;
            if (currentUser.role === 'Admin') {
                docs = db.documents;
                recons = db.reconciliations;
                reports = db.reports;
                alerts = db.attentionItems;
            } else {
                docs = db.documents.filter(d => d.userId === currentUser.id);
                recons = db.reconciliations.filter(r => r.userId === currentUser.id);
                reports = db.reports.filter(r => r.userId === currentUser.id);
                alerts = db.attentionItems.filter(a => a.userId === currentUser.id);
            }

            document.getElementById('db-doc-count').textContent = docs.length;
            document.getElementById('db-recon-count').textContent = recons.length;
            document.getElementById('db-report-count').textContent = reports.length;
            document.getElementById('db-alert-count').textContent = alerts.length;

            const attentionList = document.getElementById('attention-list');
            attentionList.innerHTML = alerts.length > 0 ? alerts.map(item => `
                <li class="flex items-start text-sm">
                    <i data-lucide="alert-triangle" class="w-4 h-4 mr-2 mt-0.5 ${item.level === 'danger' ? 'text-red-500' : 'text-yellow-500'} flex-shrink-0"></i>
                    <span>${item.text}</span>
                </li>
            `).join('') : '<p class="text-sm text-gray-500 text-center">Không có mục nào cần chú ý.</p>';
            
            // Chart
            const ctx = document.getElementById('activityChart').getContext('2d');
            const chartData = {
                labels: ['Số hoá', 'Đối chiếu', 'Báo cáo'],
                datasets: [{
                    label: 'Hoạt động AI',
                    data: [docs.length, recons.length, reports.length],
                    backgroundColor: ['#4f46e5', '#f59e0b', '#10b981'],
                    borderRadius: 5,
                }]
            };
            if(activityChart) { activityChart.destroy(); }
            activityChart = new Chart(ctx, { type: 'bar', data: chartData, options: { responsive: true, plugins: { legend: { display: false } } } });
            
            lucide.createIcons();
        }
        
        function renderDataEntry() {
            const data = (currentUser.role === 'Admin') ? db.documents : db.documents.filter(d => d.userId === currentUser.id);
            const tableContainer = document.getElementById('data-entry-table');
            const userHeader = currentUser.role === 'Admin' ? '<th class="px-6 py-3">User</th>' : '';
            
            tableContainer.innerHTML = `
                <table class="w-full text-sm text-left">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr><th class="px-6 py-3">Tên file</th>${userHeader}<th class="px-6 py-3">Loại</th><th class="px-6 py-3">Ngày xử lý</th><th class="px-6 py-3">Trạng thái</th></tr>
                    </thead>
                    <tbody>${data.map(doc => {
                        const userCell = currentUser.role === 'Admin' ? `<td class="px-6 py-4">${db.users.find(u => u.id === doc.userId).name}</td>` : '';
                        return `<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700"><td class="px-6 py-4 font-medium">${doc.name}</td>${userCell}<td class="px-6 py-4">${doc.type}</td><td class="px-6 py-4">${new Date(doc.date).toLocaleString('vi-VN')}</td><td class="px-6 py-4 text-green-600">${doc.status}</td></tr>`
                    }).join('')}</tbody>
                </table>
            `;
        }

        function renderReconciliation() {
            const data = (currentUser.role === 'Admin') ? db.reconciliations : db.reconciliations.filter(r => r.userId === currentUser.id);
             const logContainer = document.getElementById('reconciliation-log');
             if (data.length === 0) {
                logContainer.innerHTML = '<p class="text-center text-sm text-gray-500">Chưa có hoạt động nào được ghi nhận.</p>';
                return;
             }
             logContainer.innerHTML = data.map(log => {
                const userName = currentUser.role === 'Admin' ? ` - <strong>${db.users.find(u=>u.id === log.userId).name}</strong>` : '';
                return `
                    <div class="p-4 border dark:border-gray-700 rounded-lg mb-4">
                        <p class="font-semibold text-sm">${log.name}${userName} - <span class="text-gray-500 font-normal">${new Date(log.date).toLocaleString('vi-VN')}</span></p>
                        <p class="mt-2 text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-2 rounded-md">Yêu cầu: "${log.request}"</p>
                        <details class="mt-2 text-sm"><summary class="cursor-pointer text-indigo-600">Xem kết quả</summary><div class="p-2 mt-2 text-xs border-t dark:border-gray-600">${log.result}</div></details>
                    </div>`;
             }).join('');
        }

        function renderTools() {
             const data = (currentUser.role === 'Admin') ? db.reports : db.reports.filter(r => r.userId === currentUser.id);
             const logContainer = document.getElementById('tools-log');
             if (data.length === 0) {
                logContainer.innerHTML = '<p class="text-center text-sm text-gray-500">Chưa có hoạt động nào được ghi nhận.</p>';
                return;
             }
             logContainer.innerHTML = data.map(log => {
                const userName = currentUser.role === 'Admin' ? ` - <strong>${db.users.find(u=>u.id === log.userId).name}</strong>` : '';
                return `<div class="text-sm p-2 border-b dark:border-gray-700">Đã tạo file: <strong>${log.name}</strong>${userName} lúc ${new Date(log.date).toLocaleString('vi-VN')}</div>`;
             }).join('');
        }

        // --- Dummy modals and calculators ---
        const openModal = (id) => alert(`Opening ${id}`);
    </script>
</body>
</html>

